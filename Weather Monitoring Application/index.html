<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Weather Monitoring System</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <h1 class="title">Weather Monitoring System</h1>

        <!-- Input Section for City Name -->
        <div class="input-section">
            <input type="text" id="city-input" placeholder="Enter city name" class="input-field">
            <a href="#" class="btn" id="fetch-weather">Get Weather</a>
        </div>

        <!-- Slider example for setting temperature thresholds -->
        <div class="slider-container">
            <p>Set temperature threshold:</p>
            <input type="range" class="slider" min="0" max="50" value="25">
        </div>

        <!-- Multi-color gradient button -->
        <a href="summary.html" class="btn">View Daily Summary</a>

        <!-- Pagination / Page Movers -->
        <!--<div class="pagination">
            <a href="#prev">Prev</a>
            <a href="#next">Next</a>
        </div>-->
    </div>

    <!-- Footer -->
    <footer>
        <p>Â© 2024 Weather Monitoring System</p>
    </footer>
<script>
    document.addEventListener('DOMContentLoaded', () => {
    const fetchWeatherButton = document.getElementById('fetch-weather');
    const cityInput = document.getElementById('city-input');

    fetchWeatherButton.addEventListener('click', (e) => {
        e.preventDefault(); // Prevent the default anchor behavior

        const city = cityInput.value;
        if (city) {
            // Make an AJAX call to fetch the weather summary
            fetch(`/summary?city=${encodeURIComponent(city)}`)
                .then(response => {
                    if (response.ok) {
                        return response.text();
                    } else {
                        throw new Error('Network response was not ok.');
                    }
                })
                .then(html => {
                    document.body.innerHTML = html; // Replace the body with the new summary HTML
                })
                .catch(error => {
                    console.error('There was a problem with the fetch operation:', error);
                });
        } else {
            alert('Please enter a city name.');
        }
    });
});
</script>
</body>
</html>
